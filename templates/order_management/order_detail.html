{% extends 'base.html' %}
{% load static %}

{% block title %}Order #{{ order.order_number }} - Everest Beauty{% endblock %}

{% block content %}
<div class="container mt-4">
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="{% url 'dashboard:home' %}">Home</a></li>
			<li class="breadcrumb-item"><a href="{% url 'order_management:order_list' %}">My Orders</a></li>
			<li class="breadcrumb-item active" aria-current="page">Order #{{ order.order_number }}</li>
		</ol>
	</nav>

	<div class="row g-4">
		<div class="col-lg-8">
			<div class="card shadow-sm">
				<div class="card-body">
					<h5 class="card-title mb-3">Items</h5>
					{% for item in order.items.all %}
					<div class="d-flex justify-content-between align-items-center border-bottom py-2">
						<div>
							<div class="fw-semibold">{{ item.product_name }}</div>
							<small class="text-muted">SKU: {{ item.product_sku }}</small>
						</div>
						<div>x{{ item.quantity }}</div>
						<div class="fw-semibold">Rs. {{ item.total_price }}</div>
					</div>
					{% empty %}
					<p class="text-muted">No items found.</p>
					{% endfor %}
				</div>
			</div>
		</div>
		<div class="col-lg-4">
			<div class="card shadow-sm mb-3">
				<div class="card-body">
					<h5 class="card-title mb-3">Order Summary</h5>
					<div class="d-flex justify-content-between"><span>Status</span><span class="badge bg-primary">{{ order.get_status_display }}</span></div>
					<div class="d-flex justify-content-between mt-2"><span>Payment</span><span>{{ order.payment_method|upper }} • {{ order.payment_status|title }}</span></div>
					<hr>
					<div class="d-flex justify-content-between fw-bold"><span>Total</span><span>Rs. {{ order.total_amount }}</span></div>
				</div>
			</div>
			<div class="card shadow-sm">
				<div class="card-body">
					<h5 class="card-title mb-3">Shipping</h5>
					<pre class="mb-0" style="white-space: pre-wrap">{{ order.shipping_address }}</pre>
					<div class="mt-2 text-muted">{{ order.shipping_phone }} • {{ order.shipping_email }}</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}


